<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>14.6. Tracking System Failures &mdash; Maui Scheduler™ Administrator&#39;s Guide 3.2 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '3.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="Maui Scheduler™ Administrator&#39;s Guide 3.2 documentation" href="index.html" />
    <link rel="up" title="14. Trouble Shooting and System Maintenance" href="14.0troubleshootingandsysmaintenance.html" />
    <link rel="next" title="14.7. Problems with Individual Jobs" href="14.7troubleshootingjobs.html" />
    <link rel="prev" title="14.5. Issues with Client Commands" href="14.5troubleshootingclients.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="14.7troubleshootingjobs.html" title="14.7. Problems with Individual Jobs"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="14.5troubleshootingclients.html" title="14.5. Issues with Client Commands"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Maui Scheduler™ Administrator&#39;s Guide 3.2 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="14.0troubleshootingandsysmaintenance.html" accesskey="U">14. Trouble Shooting and System Maintenance</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tracking-system-failures">
<h1>14.6. Tracking System Failures<a class="headerlink" href="#tracking-system-failures" title="Permalink to this headline">¶</a></h1>
<div class="section" id="system-failures">
<h2>14.6.1. System Failures<a class="headerlink" href="#system-failures" title="Permalink to this headline">¶</a></h2>
<p>The scheduler has a number of dependencies which may cause failures if
not satisfied. These dependencies are in the areas of disk space,
network access, memory, and processor utilization.</p>
<div class="section" id="disk-space">
<h3>14.6.1.1. Disk Space<a class="headerlink" href="#disk-space" title="Permalink to this headline">¶</a></h3>
<p>The scheduler utilizes a number of files. If the file system is full or
otherwise inaccessible, the following behaviors might be noted:</p>
<table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>File</strong>
<strong>Failure</strong></td>
</tr>
<tr class="row-even"><td><strong>maui.pid</strong>
scheduler cannot perform <em>single instance</em> check</td>
</tr>
<tr class="row-odd"><td><strong>maui.ck*</strong>
scheduler cannot store persistent record of reservations, jobs,
policies, summary statistics, etc.</td>
</tr>
<tr class="row-even"><td><strong>maui.cfg</strong>
scheduler cannot load local configuration</td>
</tr>
<tr class="row-odd"><td><strong>log/*</strong>
scheduler cannot log activities</td>
</tr>
<tr class="row-even"><td><strong>stats/*</strong>
scheduler cannot write job records</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="network">
<h3>14.6.1.2. Network<a class="headerlink" href="#network" title="Permalink to this headline">¶</a></h3>
<p>The scheduler utilizes a number of socket connections to perform basic
functions. Network failures may affect the following facilities.</p>
<table border="1" class="docutils">
<colgroup>
<col width="100%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Network Connection</strong>
<strong>Failure</strong></td>
</tr>
<tr class="row-even"><td>scheduler client
scheduler client commands fail</td>
</tr>
<tr class="row-odd"><td>resource manager
scheduler is unable to load/update information regarding nodes and jobs</td>
</tr>
<tr class="row-even"><td>allocation manager
scheduler is unable to validate account access or reserve/debit account
balances</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="memory">
<h3>14.6.1.3. Memory<a class="headerlink" href="#memory" title="Permalink to this headline">¶</a></h3>
<p>Depending on cluster size and configuration, the scheduler may require
up to 50 MB of memory on the server host. If inadequate memory is
available, multiple aspects of scheduling may be negatively affected.
The scheduler log files should indicate is memory failures are detected
and mark any such messages with the <em>ERROR</em> or <em>ALERT</em> keywords.</p>
</div>
<div class="section" id="processor-utilization">
<h3>14.6.1.4. Processor Utilization<a class="headerlink" href="#processor-utilization" title="Permalink to this headline">¶</a></h3>
<p>On a heavily loaded system, the scheduler may appear sluggish and
unresponsive. However no direct failures should result from this
slowdown. Indirect failures may include timeouts of peer services (such
as the resource manager or allocation manager) or timeouts of client
commands. All timeouts should be recorded in the scheduler log files.</p>
</div>
</div>
<div class="section" id="internal-errors">
<h2>14.6.2. Internal Errors<a class="headerlink" href="#internal-errors" title="Permalink to this headline">¶</a></h2>
<p>The Maui scheduling system contains features to assist in diagnosing
internal failures. If the scheduler exits unexpectedly, the scheduler
logs may provide information regarding the cause. If no reason can be
determined, use of a debugger may be required.</p>
<div class="section" id="logs">
<h3>14.6.2.1. Logs<a class="headerlink" href="#logs" title="Permalink to this headline">¶</a></h3>
<p>The first step in any exit failure is to check the last few lines of the
scheduler log. In many cases, the scheduler may have exited due to
misconfiguration or detected system failures. The last few lines of the
log should indicate why the scheduler exited and what changes would be
required to correct the situation. If the scheduler did not
intentionally exit, increasing the <a class="reference external" href="a.fparameters.html">LOGLEVEL</a>
parameter to <strong>7</strong> or higher, may help isolate the problem.</p>
</div>
<div class="section" id="tracing-the-failure-with-a-debugger">
<h3>14.6.2.2. Tracing the Failure with a Debugger<a class="headerlink" href="#tracing-the-failure-with-a-debugger" title="Permalink to this headline">¶</a></h3>
<p>If the scheduler did not intentionally exit due detected environmental
conditions, use of a debugger may assist in pursuing the problem
further. The fastest method to isolate such situations is to launch the
scheduler under the debugger and run it until the failure occurs. Use of
the <strong>MAUIDEBUG</strong> environment variable will prevent the scheduler from
<em>backgrounding</em> itself and allow the debugger to remain attached. The
example below describes a standard debugging session.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">export</span> <span class="n">MAUIDEBUG</span><span class="o">=</span><span class="n">yes</span>
<span class="o">&gt;</span> <span class="n">gdb</span> <span class="n">maui</span>
<span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">r</span>
<span class="o">...</span>
<span class="n">signal</span> <span class="n">SIGILL</span> <span class="n">received</span>
<span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">where</span>
<span class="c1">#0 MPBSJobStart()  MPBSI.c:2013</span>
<span class="c1">#1 MRMJobStart()   MRM.c:1107</span>
<span class="c1">#2 main()          MSys.c:372</span>
</pre></div>
</div>
<p>The debugger output should locate the source of the failure and help
isolate the root cause.</p>
</div>
</div>
<div class="section" id="reporting-failures">
<h2>14.6.3. Reporting Failures<a class="headerlink" href="#reporting-failures" title="Permalink to this headline">¶</a></h2>
<p>If an internal failure is detected on your system, the information of
greatest value to developers in isolating the problem will be the output
of the gdb <strong>where</strong> subcommand and a printout of all variables
associated with the failure. In addition, a level 7 log covering the
failure can also help in determining the environment which caused the
failure. This information should be sent to
<a href="#id1"><span class="problematic" id="id2">`help&#64;supercluster.org &lt;&gt;`__</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">14.6. Tracking System Failures</a><ul>
<li><a class="reference internal" href="#system-failures">14.6.1. System Failures</a><ul>
<li><a class="reference internal" href="#disk-space">14.6.1.1. Disk Space</a></li>
<li><a class="reference internal" href="#network">14.6.1.2. Network</a></li>
<li><a class="reference internal" href="#memory">14.6.1.3. Memory</a></li>
<li><a class="reference internal" href="#processor-utilization">14.6.1.4. Processor Utilization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#internal-errors">14.6.2. Internal Errors</a><ul>
<li><a class="reference internal" href="#logs">14.6.2.1. Logs</a></li>
<li><a class="reference internal" href="#tracing-the-failure-with-a-debugger">14.6.2.2. Tracing the Failure with a Debugger</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reporting-failures">14.6.3. Reporting Failures</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="14.5troubleshootingclients.html"
                        title="previous chapter">14.5. Issues with Client Commands</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="14.7troubleshootingjobs.html"
                        title="next chapter">14.7. Problems with Individual Jobs</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/14.6troubleshootingsystemerrors.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="14.7troubleshootingjobs.html" title="14.7. Problems with Individual Jobs"
             >next</a> |</li>
        <li class="right" >
          <a href="14.5troubleshootingclients.html" title="14.5. Issues with Client Commands"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Maui Scheduler™ Administrator&#39;s Guide 3.2 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="14.0troubleshootingandsysmaintenance.html" >14. Trouble Shooting and System Maintenance</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 1999-2014, Adaptive Computing Enterprises, Inc; 2016, Temple HPC Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
  </body>
</html>